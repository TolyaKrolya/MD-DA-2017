---
title: "Lab 1"
author: "Teslenko Denis, RI-440005"
output: html_document
---

## Задание 1

1. Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор
_exp.1_. Найдите среднее и стандартное отклонение из данных этого вектора.

```{r}
exp.1 = rexp(n=200)
mean(exp.1)
sd(exp.1)
```

2. Повторите, использовав следующие значения параметра λ: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: 
_exp.0.1_, _exp.0.5_, _exp.5_, _exp.10_.

```{r}
exp.0.1 = rexp(n=200, rate=0.1)
exp.0.5 = rexp(n=200, rate=0.5)
exp.5 = rexp(n=200, rate=5)
exp.10 = rexp(n=200, rate=10)
```

```{r}
mean(exp.0.1)
sd(exp.0.1)
mean(exp.0.5)
sd(exp.0.5)
mean(exp.5)
sd(exp.5)
mean(exp.10)
sd(exp.10)
```

3. Функция ``plot()`` общая функция для визуализации данных. Функция ``hist()`` принимает данные и раскладывает 
их по корзинам. Чтобы использовать эти функции нужно для начала передать им данные, которые хотим визуализировать.

*  Используйте функцию ``hist()`` для построения гистограммы полученного ранее стандартного распределения.
  
```{r}
hist(exp.1)
```

*  Используйте функцию ``plot()`` с тем же самым вектором для построения графика значений в порядке следования.
  
```{r}
plot(exp.1)
```
  
*  Используйте функцию ``plot()`` с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния ([scatterplot](https://www.mathsisfun.com/data/scatter-xy-plots.html)) этих векторов относительно друг друга.
  
```{r}
plot(exp.0.1, exp.10)
```
  
4. Теперь сравним свойства всех наших векторов. Для начала создадим вектор, содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания.
Полученный вектор сохраним в переменную _exp.means_. 

```{r}
exp.means = c(mean(exp.1), mean(exp.0.1), mean(exp.0.5), mean(exp.5), mean(exp.10))
exp.params = c(1, 0.1, 0.5, 5, 10)
exp.sd_vect = c(sd(exp.1), sd(exp.0.1), sd(exp.0.5), sd(exp.5), sd(exp.10))
```

Далее необходимо создать следующие диаграммы рассеяния:

*  Вектор с пятью средними относительно каждого из пяти векторов с различными значениями λ.

```{r}
plot(exp.means, exp.params)
```

*  Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями λ.

```{r}
plot(exp.sd_vect, exp.params)
```

*  Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.

```{r}
plot(exp.means, exp.sd_vect)
```

**Выводы** 

* Значения λ обратно пропорциональны mean и sd экспоненциального распределения и на графике представляют собой экспоненту
* sd и mean имеют прямолинейную зависимость

## Задание 2

R достаточно производителен, чтобы вычислять относительно большие объёмы данных.

* Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения и сохраните их в вектор *huge.exp.1*. Получите среднее и стандартное отклонение.

```{r}
huge.exp.1 = rexp(n=1100000)
huge.exp.1.mean = mean(huge.exp.1)
huge.exp.1.sd = sd(huge.exp.1)
print(huge.exp.1.mean)
print(huge.exp.1.sd)
```

* Получите гистограмму _huge.exp.1_. Она соответствует функции ``1 - e:^(-x)``? Должна ли?

```{r}
hist(huge.exp.1)
```

*Полученный график распределения случайной величины очевидно не соответствует графику соответствующей функции распределения и не должен, т.к. в 1 случае - распределение случайной величины по экспоненциальному закону, а во втором - функция*

* Получите среднее всех чисел из _huge.exp.1_ строго больших 1. Для проверки выборки может потребоваться новый вектор.

```{r}
mean(huge.exp.1[huge.exp.1 > 1])
```

* Получите матрицу _huge.exp.1.mat_, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу.
Что можно сказать о полученных данных?

```{r}
huge.exp.1.mat = matrix(huge.exp.1, nrow=1100, ncol=1000)
hist(huge.exp.1.mat)
```

* Рассчитайте среднее 137-й колонки из _huge.exp.1.mat_.

```{r}
mean(huge.exp.1.mat[ , 137])
```

* Найдите среднее всей 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних значений колонок.
Объясните почему форма диаграммы отличается от виденных ранее.

```{r}
huge.exp.1.mat.mean = colMeans(huge.exp.1.mat)
barplot(huge.exp.1.mat.mean)
```

*Форма отличается, т.к. мы имеем дело с другими данными.*

* Рассчитайте квадрат каждого значения из _huge.exp.1_ и найдите среднее и стандартное отклонение полученного вектора квадратов.
Объясните отличие от соответствующих показателей вектора _huge.exp.1_. Вам может помочь формула, по которой R рассчитывает
стандартное отклонение: ``sqrt(sum((x - mean(x))^2) / (n - 1))``.

```{r}
huge.exp.1.square = huge.exp.1 ^ 2
huge.exp.1.square.mean = mean(huge.exp.1.square)
huge.exp.1.square.sd = sd(huge.exp.1.square)
print(huge.exp.1.square.mean)
print(huge.exp.1.square.sd)
```

*С увеличением значения x увеличивается значение mean и sd. Стоит отметить, что стандартное отклонение растет быстрее.*
